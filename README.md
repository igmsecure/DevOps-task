## DevOps-task

#### 1. Реализовать _Firewall_ на `iptables`, в котором будет разделение на цепочки(`chain`) по указанным критериям:[WAFScript](https://github.com/igmsecure/DevOps-task/tree/main/WAFScript)

- _цепочка для адресов, которым разрешено все (все порты)_
- _цепочка для адресов серверов баз данных и контейнеров с приложением, которым разрешено все_
- _цепочка, в которую будут заноситься адреса пользователей, которым нужен доступ по требованию. Им также разрешено все_
- _цепочка, в которую будут заноситься адреса пользователей с временным доступом, им разрешены только определенные порты_
- _цепочка, в которую заносятся порты, смотрящие в мир_

Остальной траффик блокируем и все что блокируем - логируем. Для каждой цепочки организовать свой файл лога. 
В выводе `iptables -L` каждый добавленный адрес должен быть подписан именем.

<h4 align="center">
  Ход выполнения: <a href="https://github.com/igmsecure/DevOps-task/tree/main/WAFScript" target="_blank">[WAFScript]</a> 
</h4>

`bash`
`#!/bin/bash`

1.1 Создание цепочки для адресов, которым разрешено все (все порты):

- `sudo iptables -N ALLOW_ALL` — создает новую пользовательскую цепочку с именем «ALLOW_AL»L.
- `sudo iptables -A ALLOW_ALL -j ACCEPT` — добавляет правило в цепочку «ALLOW_ALL», которое разрешает все пакеты («-j ACCEPT»).


1.2 Создание цепочки для адресов серверов баз данных и контейнеров с приложением, которым разрешено все:

- `sudo iptables -N DB_APP_SERVERS — создает новую пользовательскую цепочку с именем «DB_APP_SERVERS».
- sudo iptables -A DB_APP_SERVERS -j ACCEPT` — добавляет правило в цепочку «DB_APP_SERVERS», которое разрешает все пакеты (-j ACCEPT).


1.3 Создание цепочки, в которую будут заноситься адреса пользователей, которым нужен доступ по требованию. Им также разрешено все:

- `sudo iptables -N ON_DEMAND_ACCESS` — создает новую пользовательскую цепочку с именем «ON_DEMAND_ACCESS».
- `sudo iptables -A ON_DEMAND_ACCESS -j ACCEPT` — добавляет правило в цепочку «ON_DEMAND_ACCESS», которое 
